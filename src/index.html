<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#ec4899" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Anniversary" />
    <title>AnniversaryğŸ’•</title>
    <link rel="stylesheet" href="./output.css" />
    <link rel="apple-touch-icon" sizes="180x180" href="./asset/Logo.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link rel="shortcut icon" href="./asset/Logo.png" type="image/x-icon" />
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #fccee8;
      }
      h1,
      h2 {
        font-family: "Dancing Script", cursive;
      }
      .fade-out {
        opacity: 0;
        transition: opacity 1s ease;
      }
      .fade-in {
        opacity: 1;
        transition: opacity 1s ease;
      }
    </style>
    <audio id="bgMusic" src="./asset/lagu.mp3"></audio>
  </head>
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

  <body class="overflow-hidden scroll-smooth text-gray-800">
    <!-- LOADING PAGE -->
    <div
      id="loadingPage"
      class="fixed inset-0 flex flex-col justify-center items-center bg-pink-200 z-[60]"
    >
      <div class="animate-bounce"><img src="./asset/Vector.png" alt="" class="w-10" /></div>
      <p class="mt-4 text-pink-700 font-semibold">Loading...</p>
    </div>

    <!-- INTRO PAGE -->
    <div
      id="introPage"
      class="fixed inset-0 flex flex-col justify-center items-center bg-gradient-to-b from-pink-200 to-pink-100 z-50 text-center hidden"
    >
      <h1 class="text-4xl font-bold text-pink-700 mb-10 animate-bounce">Hello My World ğŸŒ¸</h1>
      <img src="./asset/img10.jpeg" alt="Intro Image" class="rounded-2xl shadow mb-5 w-64" />
      <button
        id="startBtn"
        class="px-6 py-3 bg-pink-500 text-white rounded-full shadow-lg hover:bg-pink-600 transition mt-5"
      >
        Start ğŸ’•
      </button>
    </div>

    <!-- MAIN CONTENT -->
    <div id="mainContent" class="opacity-0 pointer-events-none">
      <!-- Hero -->
      <section
        class="min-h-screen flex flex-col justify-center items-center text-center px-6 bg-gradient-to-b from-pink-100 via-white to-white pb-10"
      >
        <img src="./asset/img2.jpg" class="rounded-full shadow-xl mb-6 w-64 mt-6" alt="Couple" />
        <h1 class="text-5xl text-pink-700">Happy Anniversary Sayang ğŸ’–</h1>
        <p class="mt-4 text-base italic text-gray-600 max-w-sm leading-relaxed">
          Terimakasiii untuk hari-harinya. Terimakasi untuk cintanya, sayangnya, perhatiannya selama
          ini. Semoga kita sama sama terus yaaaa
        </p>
      </section>

      <!-- Love Letter -->
      <section
        class="min-h-screen flex flex-col justify-center items-center px-6 bg-white text-center"
      >
        <h2 class="text-4xl text-pink-600 mb-6">Surat ğŸ’Œ</h2>
        <button
          id="openLetter"
          class="bg-pink-500 text-white px-6 py-3 rounded-full shadow hover:bg-pink-600 transition"
        >
          Buka Surat ğŸ’•
        </button>
        <div
          id="letterContent"
          class="max-w-md mt-6 text-gray-600 italic leading-relaxed text-justify hidden opacity-0 transition-opacity duration-700"
        >
          Sayangku cintakuu cantikku maniskuu, Aku cuma mau bilang makasih banget udah ada di
          hidupku. Terimakasih udh bikin hariku jauh lebih indah, penuh tawa, penuh rasa nyaman. Aku
          janji bakal terus jagain kamu sayang, nemenin susah seneng, dan bikin bahagia dengan cara
          apa pun yang aku bisa. Selamanya bareng terus ya.
        </div>
      </section>

      <section
        id="story"
        class="min-h-screen flex flex-col justify-center items-center bg-gray-50 px-6 text-center"
      >
        <h2 class="text-4xl text-pink-600 mb-10">Memories âœ¨</h2>

        <div class="swiper w-full max-w-sm rounded-2xl shadow-lg">
          <div class="swiper-wrapper">
            <div class="swiper-slide flex flex-col justify-start items-center p-4 h-[500px]">
              <div class="w-full h-[350px] overflow-hidden rounded-lg mb-4">
                <img src="./asset/img4.jpg" class="w-full h-full object-cover" />
              </div>
            </div>

            <div class="swiper-slide flex flex-col justify-start items-center p-4 h-[500px]">
              <div class="w-full h-[350px] overflow-hidden rounded-lg mb-4">
                <img src="./asset/img5.jpg" class="w-full h-full object-cover" />
              </div>
            </div>

            <div class="swiper-slide flex flex-col justify-start items-center p-4 h-[500px]">
              <div class="w-full h-[350px] overflow-hidden rounded-lg mb-4">
                <img src="./asset/img1.jpg" class="w-full h-full object-cover" />
              </div>
            </div>

            <div class="swiper-slide flex flex-col justify-start items-center p-4 h-[500px]">
              <div class="w-full h-[350px] overflow-hidden rounded-lg mb-4">
                <img src="./asset/img6.jpeg" class="w-full h-full object-cover" />
              </div>
            </div>

            <div class="swiper-slide flex flex-col justify-start items-center p-4 h-[500px]">
              <div class="w-full h-[350px] overflow-hidden rounded-lg mb-4">
                <img src="./asset/img3.jpg" class="w-full h-full object-cover" />
              </div>
              <!-- <p class="text-gray-700 text-sm text-center">Inget nggak? Pertama kali ketemu, aku langsung deg-degan parah ğŸ™ˆ</p> -->
            </div>
          </div>

          <div class="swiper-pagination"></div>
        </div>
      </section>

      <!-- Closing -->
      <section
        class="min-h-screen flex flex-col justify-center items-center text-center px-6 bg-gradient-to-t from-pink-50 via-white to-white"
      >
        <img src="./asset/img7.jpeg" class="rounded-full shadow-lg mb-6 w-64 mt-6" />
        <h2 class="text-4xl text-pink-700">ğŸ’•ğŸ¤—</h2>
        <div class="mt-8 bg-white px-6 py-3 rounded-xl shadow-lg">
          <p class="text-pink-700 font-semibold">Next Anniversary in:</p>
          <p id="countdown" class="text-xl font-bold mt-2">365 hari lagi ğŸ‰</p>
        </div>
        <button
          id="giftBtn"
          class="mt-6 mb-6 bg-pink-600 text-white px-6 py-2 rounded-full shadow hover:bg-pink-700 transition"
        >
          Gift ğŸâœ¨
        </button>
      </section>
    </div>

    <!-- Modal Gift -->
    <div
      id="giftModal"
      class="fixed inset-0 bg-black/50 flex items-center justify-center hidden z-50"
    >
      <div class="bg-white rounded-2xl shadow-lg p-6 text-center max-w-sm animate-bounce-in">
        <img src="./asset/Gift.png" class="w-32 mx-auto mb-4 animate-bounce mt-6" />
        <p class="mt-2 text-gray-600 italic">Bisa diambil di ibu kost yaa hehe ğŸ’•</p>
        <button
          id="closeGift"
          class="mt-4 px-6 py-2 bg-pink-500 text-white rounded-full shadow hover:bg-pink-600"
        >
          Tutup âœ¨
        </button>
      </div>
    </div>

    <script>
      // Loading screen
      const loadingPage = document.getElementById("loadingPage");
      const introPage = document.getElementById("introPage");
      const bgMusic = document.getElementById("bgMusic");
      let musicStarted = false;

      // reset audio ke posisi awal atau custom start
      function resetAudio(startTime = 0) {
        bgMusic.pause();
        bgMusic.currentTime = startTime; // misal 0 atau 122 detik
      }

      // mainkan audio sekali
      function playAudio(startTime = 0) {
        if (!musicStarted) {
          resetAudio(startTime);
          bgMusic
            .play()
            .then(() => {
              musicStarted = true;
            })
            .catch((err) => console.log("Autoplay gagal:", err));
        }
      }

      // loop manual dari posisi tertentu
      bgMusic.addEventListener("ended", () => {
        // hanya loop jika sudah mulai
        if (musicStarted) {
          bgMusic.currentTime = 110; // start dari 2:02
          bgMusic.play();
        }
      });

      // contoh: start audio setelah klik pertama
      window.addEventListener("click", () => {
        playAudio(110); // mulai dari 2:02
        // loading screen
        setTimeout(() => {
          loadingPage.classList.add("fade-out");
          setTimeout(() => {
            loadingPage.style.display = "none";
            introPage.classList.remove("hidden");
            introPage.classList.add("fade-in");
          }, 1000);
        }, 2000);
      });

      // Intro Start Button
      // const introPage = document.getElementById("introPage");
      const mainContent = document.getElementById("mainContent");
      const startBtn = document.getElementById("startBtn");

      startBtn.addEventListener("click", () => {
        introPage.classList.add("fade-out");
        setTimeout(() => {
          introPage.style.display = "none";
          mainContent.classList.remove("hidden");
          bgMusic.play();
        }, 1000);
      });

      // Slideshow
      const slides = document.querySelectorAll(".slide");
      let currentSlide = 0;
      function showSlide(index) {
        slides.forEach((slide, i) => {
          slide.style.opacity = i === index ? "1" : "0";
        });
      }
      function nextSlide() {
        currentSlide = (currentSlide + 1) % slides.length;
        showSlide(currentSlide);
      }
      setInterval(nextSlide, 2000);

      // Countdown
      const nextAnniversary = new Date("2026-09-09");
      const countdownEl = document.getElementById("countdown");
      function updateCountdown() {
        const now = new Date();
        const diff = nextAnniversary - now;
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        countdownEl.textContent = days + " hari lagi ğŸ‰";
      }
      updateCountdown();
      setInterval(updateCountdown, 86400000);

      // Surat
      const btn = document.getElementById("openLetter");
      const content = document.getElementById("letterContent");
      let isOpen = false;
      btn.addEventListener("click", () => {
        if (!isOpen) {
          content.classList.remove("hidden");
          setTimeout(() => content.classList.add("opacity-100"), 10);
          btn.textContent = "Tutup Surat ğŸ’Œ";
        } else {
          content.classList.remove("opacity-100");
          setTimeout(() => content.classList.add("hidden"), 700);
          btn.textContent = "Buka Surat ğŸ’•";
        }
        isOpen = !isOpen;
      });

      startBtn.addEventListener("click", () => {
        // kunci scroll
        document.body.classList.add("overflow-hidden");

        introPage.classList.add("fade-out");

        setTimeout(() => {
          introPage.style.display = "none";
          mainContent.classList.remove("pointer-events-none");
          mainContent.classList.add("fade-in");

          // buka scroll lagi
          document.body.classList.remove("overflow-hidden");

          // biar pasti mulai dari paling atas
          window.scrollTo({ top: 0, behavior: "instant" });
        }, 1000);
      });

      // Swiper initialization
      const swiper = new Swiper(".swiper", {
        loop: true,
        autoplay: {
          delay: 3000,
          disableOnInteraction: false, // tetap autoplay walau user swipe
        },
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        slidesPerView: 1,
        spaceBetween: 20,
      });

      // gift
      document.getElementById("giftBtn").addEventListener("click", () => {
        confetti({
          particleCount: 200,
          spread: 70,
          origin: { y: 0.6 },
        });
      });

      function createHeart() {
        const heart = document.createElement("div");
        heart.innerHTML = "ğŸ’–";
        heart.style.position = "fixed";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.top = "-2rem";
        heart.style.fontSize = Math.random() * 24 + 16 + "px";
        heart.style.animation = "fall 4s linear forwards";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 4000);
      }

      document.getElementById("giftBtn").addEventListener("click", () => {
        for (let i = 0; i < 20; i++) {
          setTimeout(createHeart, i * 200);
        }
      });

      const giftBtn = document.getElementById("giftBtn");
      const giftModal = document.getElementById("giftModal");
      const closeGift = document.getElementById("closeGift");

      giftBtn.addEventListener("click", () => {
        // tampilkan modal
        giftModal.classList.remove("hidden");

        // jalankan confetti
        confetti({
          particleCount: 200,
          spread: 70,
          origin: { y: 0.6 },
        });

        // animasi hati jatuh
        for (let i = 0; i < 20; i++) {
          setTimeout(createHeart, i * 200);
        }
      });

      closeGift.addEventListener("click", () => {
        giftModal.classList.add("hidden");
      });
    </script>
  </body>
</html>
